
#  제약조건&KEY


제약조건이란 데이터의 무결성을 지키기 위해 사용자가 지정할 수 있는 성질이다. 제약조건은 테이블 생성 당시 지정할 수도 있고, 테이블 생성 후 ALTER명령어를 통해 지정할 수도 있다.
<br>

###  참조 무결성
기본 키와 참조 키 간의 관계가 항상 유지됨을 보장한다. 관련된 테이블의 관계를 유효하게 하는 규칙으로, 사용자의 실수로 관련 데이터가 삭제되거나 수정되는 것을 막아준다.

➡️설정 조건

1.  기본 테이블에서 사용한 필드는 기본 키이거나 고유 인덱스가 설정되어 있어야 한다.
2.  기본 테이블과 관계 테이블 둘 다 액세스 테이블이어야 한다.
3.  외래 키를 가지는 컬럼의 데이터 형은 외래 키가 참조하는 기본 키의 컬럼과 데이터 형이 일치해야 한다.

➡️강화 규칙

1.  외래 키에 의해 참조되고 있는 기본 키는 삭제할 수 없다.
2.  기본 테이블의 기본 키에 없는 데이터는 관계 테이블의 외래 키 값으로 들어갈 수 없다.

***


### NOT NULL

해당 필드는 NULL을 저장할 수 없다.

```java
Create Table 테이블
(
		필드이름 필드타입 NOT NULL,
		...
);
```

### UNIQUE

데이터의 유일성을 보장한다. 해당 필드는 중복된 값을 가질 수 없다.

자동으로 인덱스가 생성된다.

```java
Create Table 테이블
(
		필드이름 필드타입 UNIQUE,
		...
);
```

### CHCEK

컬럼의 값을 특정 범위로 제한한다. 부호, 숫자, 문자 등을 비교할 수 있으며 입력되는 값이 CHECK의 조건과 맞지 않으면 에러 발생한다.

```java
Create Table 테이블
(
		year INT CHECK (year >= 2000 AND year <= 2023)		
		...
);
```


### DEFAULT

기본값을 설정한다. 데이터를 입력하지 않으면 지정된 값이 기본으로 입력된다.
```java
Create Table 테이블
(
		필드이름 필드타입 DEFAULT '기본값'
		...
);
```

### PRIMARY KEY

UNIQUE + NOT NULL 의 성질을 가지고 있으며 그 데이터 행을 대표하는 컬럼이다.

기본키를 정의하면 자동으로 인덱스 생성되어 데이터를 빠르게 찾을 수 있는 키의 역할을 한다.

```java
Create Table 테이블
(
		필드이름 필드타입 PRIMARY KEY,
		...
);
```

### FOREIGN KEY

한 테이블을 다른 테이블과 연결해주는 역할을 한다.

외래 키로 설정된 필드의 값은 참조 테이블의 내용을 참조하여 입력된다.

참조되는 테이블의 필드는 PRIMARY KEY나 UNIQUE여야 한다.

외래키에 의해 참조되고 있는 기본키는 삭제할 수 없다. ⇒ 참조 무결성

```java
Create Table 테이블(
필드명 INT ,
...
CONSTRAINT 제약조건 FOREIGN KEY (필드명)
REFERENCES 테이블명 (필드명)
);
```
***
###  KEY
DB에서 조건에 만족하는 데이터를 찾거나 정렬을 할 때, 기준이 되는 속성

- 기본키
후보키 중에서 선택한 키
null값 가질 수 없음
특정 튜플을 유일하게 구별할 수 있는 속성

- 후보키
튜플을 유일하게 식별할 수 있는 속성들의 부분 집합을 의미

- 대체키
후보키 중에서 기본키를 제외한 나머지들

- 외래키
다른 릴레이션의 기본키를 그대로 참조하는 속성의 집합이 외래키다.
