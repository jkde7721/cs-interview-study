# Index (인덱스)

## 1. 정의 및 사용 목적

> **인덱스란** 추가적인 쓰기 작업과 저장 공간을 활용하여 데이터베이스 테이블의 검색 속도를 향상시키기 위한 자료구조

- 테이블 안의 데이터를 찾으려고 할 때, 전체 데이터에서 검색하면 시간이 오래 걸리기 때문에 데이터와 데이터의 위치를 포함한 자료구조를 생성하여 빠르게 찾고자한 데이터를 조회할 수 있도록 도와줌

- 인덱스를 활용함으로써, 데이터를 조회하는 SELECT 외에도 UPDATE나 DELETE의 성능이 함께 향상됨. 왜냐하면 데이터베이스의 전체를 탐색하여 (Full Scan) 데이터를 조회하는 것이 아니라 해당 대상을 조회하여 작업을 할 수 있기 때문임

      UPDATE  USER  SET  NAME = 'codingsohyun'  WHERE  NAME = 'sohyun';

## 2. 장단점

### 2.1 장점

- 테이블을 조회하는 속도와 그에 다른 성능을 향상시킬 수 있음
- 전반적인 시스템의 부하를 줄일 수 있음

### 2.2 단점

- 인덱스를 관리하기 위해 DB의 약 10%에 해당하는 저장공간이 필요함
- 인덱스를 관리하기 위해 추가 작업이 필요함
- 인덱스를 잘못 사용할 경우 오히려 성능이 저하되는 역효과가 발생할 수도 있음
  - 예를 들어서, CREATE, DELETE, UPDATE가 빈번한 속성에 인덱스를 걸게 되면 인덱스의 크기가 비대해져서 성능이 오히려 저하됨. 또한 UPDATE와 DELETE는 기존 인덱스를 삭제하지 않고 '사용하지 않음' 처리를 하기 때문에 실제 데이터에 비해 인덱스는 훨씬 많이 존재하게 됨

### 2.3 (따라서) 인덱스를 사용하면 좋은 경우는

1. 규모가 작지 않은 테이블
2. INSERT, UPDATE, DELETE 가 자주 발생하지 않은 컬럼
3. JOIN이나 WHERE 또는 ORDERED BY에 자주 사용되는 컬럼
4. 데이터의 중복도가 낮은 컬럼 등등

## 3. 인덱스 관리 방식

### 3.1 B-Tree 자료구조

### 3.2 B+ Tree 자료구조

> DB의 인덱스를 위해 자식 노드가 2개 이상인 B- Tree를 개선시킨 자료 구조

- 시간 복잡도 : O(logn)

### 3.3 HashTable 자료구조

> (Key, Value)로 데이터를 저장하는 자료구조이므로 빠른 데이터 검색이 필요할 경우에 유용하다

- (Key, Value) = (데이터=칼럼의 값, 데이터의 위치)
- 시간 복잡도 : 0(1) (매우 빠른 검색을 지원함)

## 4. 기타

- DBMS에서는 인덱스를 항상 최신 정렬 상태로 유지해야 원하는 값을 빠르게 탐색할 수 있음
- 인덱스를 사용하는 것 만큼이나 생성된 인덱스를 관리해주는 것도 중요하므로 사용되지 않는 인덱스는 바로 제거해주는 것이 좋음
- |        |                                                                         |
  | ------ | ----------------------------------------------------------------------- |
  | INSERT | 새로운 데이터에 대한 인덱스 추가                                        |
  | DELETE | 삭제하려는 데이터의 인덱스에 사용하지 않음 처리                         |
  | UPDATE | 기존의 인덱스에 사용하지 않음 처리 후, 갱신된 데이터에 대한 인덱스 추가 |

..
