
#  이상 현상&정규화




정규화가 무엇이냐? 라고 물어본다면 한마디로 데이터의 중복을 최소화하는 과정이라고 말할 것 같다. 중복된 데이터를 허용하지 않음으로써 데이터의 무결성을 유지할 수 있다.

### 제 1 정규화

모든 속성은 반드시 하나의 값을 가져야 한다. 한 컬럼이 다중 값을 가지면 쪼갠다
| 회원번호 | 수강 프로그램 |
|--|--|
| 1 | 수영, 필라테스 헬스 |
| 2 | 수영, 헬스 |
⬇️

| 회원번호 | 수강 프로그램 |
|--|--|
| 1 | 수영 |
| 1 | 필라테스 |
| 1 | 헬스 |
| 2 | 수영 |
| 2 | 헬스 |





### 제 2 정규화

여기에 몇 가지 컬럼을 추가해보겠다.
| 회원 번호 | 수강 프로그램 | 수업료 | 출석 횟수 |
|--|--|--|--|
| 1 | 수영 | 50000 | 4 |
| 1 | 필라테스 | 100000 | 1 |
| 1 | 헬스 | 20000 | 5 |
| 2 | 수영 | 50000 | 3 |
| 2 | 헬스 | 20000 | 2 |


이 테이블의 기본 키는 (회원번호, 수강 프로그램)의 복합 키이다. 여기서 `**수업료**`는 **복합 키의 일부인 수강 프로그램 컬럼에만 의해 결정**된다. 이처럼 기본 키의 부분 집합이 결정자가 되어선 안되도록 만드는 것이 제 2 정규화이다. 테이블을 분리하여 준다.

⬇️
| 회원 번호 | 수강 프로그램 | 출석 횟수 |
|--|--|--|--|
| 1 | 수영 | 4 |
| 1 | 필라테스 | 1 |
| 1 | 헬스 | 5 |
| 2 | 수영 | 3 |
| 2 | 헬스 | 2 |

<br>

| 수강 프로그램 | 수업료 |
|--|--|
| 수영 | 50000 |
| 필라테스 | 100000 |
| 헬스 | 20000 |
| 수영 | 50000 |
| 헬스 | 20000 |



### 제 3 정규화

제2 정규화를 진행한 테이블에 대해 이행적 종속을 없애도록 테이블을 분해하는 것이다. 여기서 이행적 종속이라는 것은 A -> B, B -> C가 성립할 때 A -> C가 성립되는 것을 의미한다.

말이 어려운데, 일반 컬럼에만 종속된 컬럼을 다른 테이블로 분리하는 것이다. 예시를 들어보자.
| 수강 프로그램 | 수업료 | 강사 | 강사 전화번호 |
|--|--|--|--|
| 수영 | 50000 | 수수 | 010-2232-3232 |
| 필라테스 | 100000 | 필필 | 010-2232-3232 |
| 골프 | 20000 | 골골 |010-2232-3232 |
| 수영 | 50000 | 수수 | 010-2232-3232|
| 발레 | 20000 | 발발 | 010-2232-3232|

위 테이블은 `**수강 프로그램**` 하나의 컬럼이 기본키이다. 여기서 강사 전화번호 컬럼은 강사라는 기본키도 복합키의 일부도 아닌 **일반 컬럼에 종속**된다. 이 경우 테이블을 분리해준다.

⬇️

| 수강 프로그램 | 수업료 | 강사 |
|--|--|--|
| 수영 | 50000 | 수수 |
| 필라테스 | 100000 | 필필 |
| 골프 | 20000 | 골골 |
| 수영 | 50000 | 수수 |
| 발레 | 20000 | 발발 |

<br>

| 강사 | 강사 전화번호 |
|--|--|
| 수수 | 010-2232-3232 |
| 필필 | 010-2232-3232 |
| 골골 |010-2232-3232 |
| 수수 | 010-2232-3232|
| 발발 | 010-2232-3232|
