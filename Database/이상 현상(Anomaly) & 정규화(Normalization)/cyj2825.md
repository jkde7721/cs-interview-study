## 이상현상 (Anomaly)

> 불필요한 데이터 중복으로 인해 릴레이션에 대한 데이터 삽입, 수정, 삭제 연산을 할 때 발생할 수 있는 문제

### 삽입 이상 (Insertion Anomaly)

- 데이터를 삽입하기 위해 불필요한 데이터도 함께 삽입해야 하는 문제

<br/>

### 갱신 이상 (Update Anomaly)

- 중복 튜플 중 일부만 변경하여 데이터가 불일치하게 되는 문제

<br/>

### 삭제 이상 (Delete Anomaly)

- 튜플을 삭제하면 꼭 필요한 데이터까지 같이 삭제되는 데이터 손실 문제

<br/>

## 정규화 (Normalization)

> 이상현상이 있는 릴레이션을 분해하여 이상현상을 없애는 과정
> 정규화가 높아질수록 이상현상은 줄어들게 된다

#### 정규화의 장점

- 데이터베이스 변경 시 이상현상을 제거할 수 있다
- 정규화된 데이터베이스 구조에서는 새로운 데이터 형의 추가로 인한 확장 시, 그 구조를 변경하지 않아도 되거나 일부만 변경해도 된다
- 데이터베이스와 연동된 응용 프로그램에 최소한의 영향만을 미치게 되어 응용프로그램의 생명을 연장시킨다

#### 정규화의 단점

- 릴레이션의 분해로 인해 릴레이션 간의 JOIN 연산이 많아진다
- 질의에 대한 응답 시간이 느려질 수 있다
- 만약 JOIN이 많이 발생하여 성능 저하가 나타나면 **반정규화 (De-normalization)** 를 적용할 수 있다

<br/>

### 제1정규화

> 속성(Attribute)의 원자성을 확보하고 원자값이 아닌 도메인을 분해

| 이름   | 취미           |
| ------ | -------------- |
| 조예진 | 쇼핑, 필라테스 |
| 이수헌 | 배드민턴, 헬스 |
| 김태리 | 쇼핑           |

![enter image description here](https://img.icons8.com/?size=30&id=70685&format=png)

| 이름   | 취미     |
| ------ | -------- |
| 조예진 | 쇼핑     |
| 조예진 | 필라테스 |
| 이수헌 | 배드민턴 |
| 이수헌 | 헬스     |
| 김태리 | 쇼핑     |

<br/>

### 제2정규화

> 기본키가 2개 이상의 속성으로 이루어진 경우, 부분 함수 종속성을 제거(분해)

- 부분 함수 종속성 : 릴레이션에서 종속자가 기본키가 아닌 다른 속성에 종속되거나, 기본키를 구성하는 여러 속성들의 부분집합 중 일부분에만 종속
- 완전 함수 종속 : 기본키의 부분집합이 결정자가 되어서는 안된다는 것을 의미

<br/>

### 제3정규화

> 기본키를 제외한 컬럼간의 종속성을 제거
> 이행 함수 종속성을 제거

- A -> B, B -> C가 성립할 때 A -> C가 성립되는 것을 의미

<br/>

### BCNF

> 모든 결정자가 후보키가 되도록 테이블 분해

<br/>

### 제4정규화

> 여러 칼럼들이 하나의 칼럼을 종속시키는 경우 분해하여 다치 종속을 제거

- 다치 종속 : A -> B일 때 하나의 A 값에 여러 개의 B 값이 존재하면 다치 종속성을 가진다고 함

<br/>

### 제5정규화

> 조인에 의해서 종속성이 발생하는 경우 분해

- 조인 종속 : 하나의 릴레이션을 여러 개의 릴레이션으로 무손실 분해하였다가 다시 결합할 수 있는 경우
  <br/>
